(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[691],{5691:function(e,n,r){"use strict";r.d(n,{m3:function(){return P},or:function(){return i},Kf:function(){return we}});var t=r(5893),i=function(){return(0,t.jsx)(t.Fragment,{children:"\uba54\uc778"})},o=r(7294),a=r(1072),s=r(7054),c=r(9616),u=r(7782),l=r(9707),d=r(7547),h=r(4149),f=r(9669),m=function(e){return Object.keys(e).map((function(n){return"".concat(n,"=").concat(e[n])})).join("&")};function A(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function j(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){A(e,n,r[n])}))}return e}var g=r.n(f)().create({baseURL:"http://playground.jsim.kr/api",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencodeds"}});g.interceptors.request.use((function(e){e.url;return e.headers=j({},e.headers),e})),g.interceptors.response.use((function(e){return new Promise((function(n,r){var t=e.status,i=e.data;200===t?n(i):r(i)}))}));var x,v={get:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g.get(e,j({},r,{params:n,paramsSerializer:m}))},post:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g.post(e,n,r)},put:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g.put(e,n,r)},patch:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g.patch(e,n,r)},delete:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g.delete(e,j({},r,{params:n,paramsSerializer:m}))}},p=r(1163),y=r(2804),E=(0,y.cn)({key:"userInfoState",default:void 0});!function(e){e[e.SIGN_IN=0]="SIGN_IN",e[e.SIGN_UP=1]="SIGN_UP"}(x||(x={}));var _=function(e){var n=e.setPage,r=(0,p.useRouter)(),i=(0,y.Zl)(E);return(0,t.jsx)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsxs)(s.Z,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){var n=e.id,t=e.password;v.post("user/login",{id:n,password:t}).then((function(e){console.log("res: ",e),i((function(n){return r.back(),e}))})).catch((function(e){a.ZP.error("\uacc4\uc815\uc815\ubcf4\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.")}))},children:[(0,t.jsx)(s.Z.Item,{name:"id",rules:[{required:!0,message:"Please input your Username!"}],children:(0,t.jsx)(c.Z,{prefix:(0,t.jsx)(d.Z,{className:"site-form-item-icon"}),placeholder:"Username"})}),(0,t.jsx)(s.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:(0,t.jsx)(c.Z,{prefix:(0,t.jsx)(h.Z,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),(0,t.jsxs)(s.Z.Item,{children:[(0,t.jsx)(s.Z.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:(0,t.jsx)(u.Z,{children:"\ube44\ubc00\ubc88\ud638 \uae30\uc5b5"})}),(0,t.jsx)("a",{className:"login-form-forgot",href:"",children:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"})]}),(0,t.jsxs)(s.Z.Item,{children:[(0,t.jsx)(l.Z,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),(0,t.jsx)(l.Z,{onClick:function(){return n(x.SIGN_UP)},children:"\ud68c\uc6d0\uac00\uc785"})]})]})})},Q=r(4051),b=r.n(Q),C=r(2474),I=r.n(C);function S(e,n,r,t,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void r(u)}s.done?n(c):Promise.resolve(c).then(t,i)}function w(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function a(e){S(o,t,i,a,s,"next",e)}function s(e){S(o,t,i,a,s,"throw",e)}a(void 0)}))}}function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function Z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return N(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B,k=function(e){var n=e.setPage,r=Z(s.Z.useForm(),1)[0];return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",height:"100%",textAlign:"center"},children:[(0,t.jsx)("h1",{style:{marginBottom:40},children:"\ud68c\uc6d0\uac00\uc785"}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)("div",{style:{width:700},children:(0,t.jsxs)(s.Z,{form:r,labelCol:{span:4},wrapperCol:{span:12},onFinish:function(e){var r,t=e.id,i=e.password,o=e.name;(r=i,new Promise(function(){var e=w(b().mark((function e(n,t){var i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){I().randomBytes(64,(function(r,t){r&&n(r),e(t.toString("base64"))}))}));case 2:i=e.sent,I().pbkdf2(r,i,9999,64,"sha512",(function(e,r){e&&t(e),n({hashedPassword:r.toString("base64"),salt:i})}));case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}())).then((function(e){var r=e.hashedPassword,i=e.salt,a={name:o,salt:i,password:r,email:t};v.post("/user",a).then((function(){n(B.SIGN_IN)})).catch((function(e){console.log("err: ",e)}))}))},children:[(0,t.jsx)(s.Z.Item,{name:"id",label:"\uc544\uc774\ub514",rules:[{required:!0,message:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud558\uc138\uc694."}],children:(0,t.jsx)(c.Z,{})}),(0,t.jsx)(s.Z.Item,{name:"password",label:"\ube44\ubc00\ubc88\ud638",rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638 \uc785\ub825\ud558\uc138\uc694."}],children:(0,t.jsx)(c.Z.Password,{})}),(0,t.jsx)(s.Z.Item,{name:"passwordConfirm",label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694."},function(e){var n=e.getFieldValue;return{validator:function(e,r){return r&&n("password")!==r?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:(0,t.jsx)(c.Z.Password,{})}),(0,t.jsx)(s.Z.Item,{name:"name",label:"\uc774\ub984",tooltip:"\ucd5c\ub300\ud55c \uc2e4\uba85\uc744 \uc801\uc5b4\uc8fc\uc138\uc694!",rules:[{required:!0,message:"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",whitespace:!0}],children:(0,t.jsx)(c.Z,{})}),(0,t.jsx)(s.Z.Item,{children:(0,t.jsx)(l.Z,{type:"primary",htmlType:"submit",children:"\uac00\uc785\ud558\uae30"})})]})})})]})};!function(e){e[e.SIGN_IN=0]="SIGN_IN",e[e.SIGN_UP=1]="SIGN_UP"}(B||(B={}));var R,P=function(){var e=(0,o.useState)(B.SIGN_IN),n=e[0],r=e[1];return(0,t.jsxs)("div",{style:{height:"100%"},children:[n===B.SIGN_IN&&(0,t.jsx)(_,{setPage:r}),n===B.SIGN_UP&&(0,t.jsx)(k,{setPage:r})]})};!function(e){e[e.ORDER=0]="ORDER",e[e.HISTORY=1]="HISTORY",e[e.DASHBOARD=2]="DASHBOARD",e[e.NEW_CAFETERIA=3]="NEW_CAFETERIA",e[e.CHOICE_MENU=4]="CHOICE_MENU",e[e.ORDER_INFO=5]="ORDER_INFO"}(R||(R={}));var O=(0,y.cn)({key:"stepState",default:R.DASHBOARD}),J=(0,y.cn)({key:"cafeteriaListState",default:[]}),L=(0,y.cn)({key:"selectCafeteriaState",default:void 0}),D=(0,y.cn)({key:"selectOrderIdState",default:void 0}),U=(0,y.cn)({key:"orderListState",default:[]}),F=r(6223),T=r(1080),M=r(2986),K=r(7677),H=r(5023),Y=function(e){var n=e.orderList,r=(0,o.useMemo)((function(){return n.map((function(e){var n=e.order_id;return(0,t.jsx)($,{order:e},n)}))}),[n]);return(0,t.jsx)(t.Fragment,{children:r})},G=r(10),z=r(6871),q=r(8102),V=r(1563),X=r.n(V),W=function(e){var n=e.orderDetail,r=n.User.name,i=n.menu_id,o=i.menu_title;i.price;return(0,t.jsxs)("div",{className:X().order_detail_item,children:[(0,t.jsxs)("div",{className:X().order_detail_item_menu_avatar,children:[(0,t.jsx)(z.C,{src:"https://joeschmoe.io/api/v1/random"}),(0,t.jsx)("span",{children:r})]}),(0,t.jsx)("div",{children:(0,t.jsx)(q.nv,{width:100,children:o})})]})},$=function(e){var n=e.order,r=(0,y.sJ)(E),i=(0,y.Zl)(O),o=(0,y.Zl)(L),a=(0,y.Zl)(D),s=n.order_user.user_id===(null===r||void 0===r?void 0:r.user_id),c=n.order_id,u=n.order_user.name,d=n.Cafeteria,h=d.cafeteria_name,f=d.cafeteria_id,m=n.Order_detail.map((function(e){var n=e.order_detail_id;return(0,t.jsx)(W,{orderDetail:e},n)}));return(0,t.jsx)(G.Z,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:h}),(0,t.jsx)("p",{children:"\ucd1d\ubb34: ".concat(u)})]}),extra:s?(0,t.jsx)(l.Z,{type:"link",onClick:function(){a(c),o(f),i(R.ORDER_INFO)},children:"\uc0c1\uc138\ubcf4\uae30"}):(0,t.jsx)(l.Z,{type:"link",onClick:function(){a(c),o(f),i(R.CHOICE_MENU)},children:"\ucc38\uc5ec\ud558\uae30"}),style:{width:300},children:m})};var ee=function(e){var n=(0,y.Zl)(U),r=(0,y.$P)(U),i=r.state,a=r.contents,s=(0,y.Zl)(O),c=(0,o.useMemo)((function(){var e;switch(i){case"loading":e=(0,t.jsx)(T.Z,{});break;case"hasValue":e=a.length>0?(0,t.jsx)(Y,{orderList:a}):(0,t.jsx)(M.Z,{});break;case"hasError":e=(0,t.jsx)(t.Fragment,{children:"\uc5d0\ub7ec"})}return e}),[i]);return(0,o.useLayoutEffect)((function(){v.get("order/getOrderInfo").then((function(e){console.log("res: ",e),n(e)}))}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("h1",{}),(0,t.jsxs)(K.default,{children:[(0,t.jsx)(H.Z,{icon:(0,t.jsx)(F.Z,{}),handleClick:function(){},children:"\ud788\uc2a4\ud1a0\ub9ac"}),(0,t.jsx)(H.Z,{type:"primary",handleClick:function(){return s(R.ORDER)},children:"\uc8fc\ubb38\ud558\uae30"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"row-box",children:[(0,t.jsx)("h1",{children:"\uc8fc\ubb38 \uc911\uc778 \ub0b4\uc5ed"}),(0,t.jsx)("div",{children:c})]}),(0,t.jsxs)("div",{className:"row-box",children:[(0,t.jsx)("h1",{children:"\uc5b4\uc81c \uc8fc\ubb38\ud55c \ub0b4\uc5ed"}),(0,t.jsx)(M.Z,{})]}),(0,t.jsxs)("div",{className:"row-box",children:[(0,t.jsx)("h1",{children:"\uc624\ub798\ub41c \ub0b4\uc5ed"}),(0,t.jsx)(M.Z,{})]})]})]})},ne=r(3527),re=function(e){var n=e.menu,r=n.menu_title,i=n.price;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:r}),(0,t.jsx)("div",{children:i})]})};function te(e,n,r,t,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void r(u)}s.done?n(c):Promise.resolve(c).then(t,i)}var ie=(0,y.nZ)({key:"cafeteriaMenuState",get:function(){var e,n=(e=b().mark((function e(n){var r,t,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.get,t=r(L),i=[],!t){e.next=7;break}return e.next=6,v.get("/cafeteriaMenu",{id:t});case 6:i=e.sent;case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function a(e){te(o,t,i,a,s,"next",e)}function s(e){te(o,t,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()}),oe=(0,y.nZ)({key:"selectedOrderInfoState",get:function(e){var n=e.get,r=n(U),t=n(D);return r.find((function(e){return e.order_id===t}))}}),ae=function(){var e=(0,y.$P)(ie),n=e.state,r=e.contents,i=(0,o.useMemo)((function(){var e;switch(n){case"loading":e=(0,t.jsx)(T.Z,{});break;case"hasValue":e=r.map((function(e){return(0,t.jsx)(re,{menu:e},e.menu_id)}))}return e}),[n]);return(0,t.jsx)("div",{children:i})};function se(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function ce(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return se(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ue=function(){var e=(0,y.Zl)(O),n=(0,y.sJ)(E),r=ce((0,y.FV)(L),2),i=r[0],a=r[1],s=ce((0,y.FV)(J),2),c=s[0],u=s[1],d=function(){v.get("/cafeteria").then((function(e){u(e)}))};return(0,o.useLayoutEffect)((function(){d()}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("h1",{children:"\uc8fc\ubb38\ud558\uae30"}),(0,t.jsxs)(K.default,{children:[(0,t.jsx)(l.Z,{type:"primary",onClick:function(){var r={cafeteria_id:i,order_user:n};v.post("order",r),e(R.DASHBOARD)},children:"\uc8fc\ubb38\uc2dc\uc791"}),(0,t.jsx)(l.Z,{onClick:function(){return e(R.DASHBOARD)},children:"\ucde8\uc18c\ud558\uae30"})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(ne.Z,{style:{width:300},size:"large",showSearch:!0,placeholder:"\uac00\uac8c \uace0\ub974\uc138\uc694",fieldNames:{label:"cafeteria_name",value:"cafeteria_id"},optionFilterProp:"cafeteria_name",optionLabelProp:"cafeteria_name",options:c,onChange:function(e){a(e)},filterOption:function(e,n){return n.cafeteria_name.toLowerCase().indexOf(e.toLowerCase())>=0},dropdownRender:function(n){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[n," "]}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{style:{paddingLeft:"10",paddingRight:"10"},children:(0,t.jsx)(l.Z,{block:!0,type:"primary",onClick:function(){return e(R.NEW_CAFETERIA)},children:"\uac00\uac8c \ucd94\uac00"})})]})}})}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"\uba54\ub274\ub9ac\uc2a4\ud2b8"}),(0,t.jsx)(ae,{})]})]})},le=function(){return(0,t.jsx)("div",{children:"History"})},de=r(9894),he=r(1669),fe=r(2714),me=function(e){var n=e.menu,r=e.handleChangeMenu,i=n.name,o=n.price;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsx)("div",{style:{marginBottom:5},children:(0,t.jsx)(c.Z,{defaultValue:i,onChange:function(e){return r("name")(e.target.value)}})}),(0,t.jsx)("div",{children:(0,t.jsx)(he.Z,{defaultValue:o,min:0,formatter:function(e){return"".concat(e)},onChange:function(e){return r("price")(e)}})}),(0,t.jsx)("div",{children:(0,t.jsx)(l.Z,{icon:(0,t.jsx)(fe.Z,{})})})]})})};function Ae(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var je=function(e){var n=e.menuList,r=e.handleChangeMenuList,i=(0,o.useMemo)((function(){return n.map((function(e){return(0,t.jsx)(me,{menu:e,handleChangeMenu:function(n){return function(t){r((function(r){return r.map((function(r){return r.id===e.id?function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Ae(e,n,r[n])}))}return e}({},e,Ae({},n,t)):r}))}))}}},e.id)}))}),[n]);return(0,t.jsx)("div",{children:i})},ge=function(){var e=(0,y.Zl)(O),n=(0,o.useState)([]),r=n[0],i=n[1],s=(0,o.useState)(""),u=s[0],d=s[1],h=function(){var e=!0;return""!==u&&0!==r.length||(e=!1),r.some((function(e){""===e.name||e.price}))&&(e=!1),e};return(0,t.jsxs)("div",{style:{width:"50%",minWidth:"300px"},children:[(0,t.jsxs)("div",{style:{display:"flex",marginBottom:20},children:[(0,t.jsx)(c.Z,{type:"text",value:u,onChange:function(e){return d(e.target.value)}}),(0,t.jsx)(l.Z,{type:"primary",onClick:function(){!1===h()&&a.ZP.error("\ub370\uc774\ud130 \uc591\uc2dd\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.");var n={cafeteria:{cafeteria_name:u},menuList:r.map((function(e){return{menu_title:e.name,price:e.price}}))};v.post("/cafeteria/insertCafeteria",n).then((function(n){a.ZP.success("\uac00\uac8c \ub4f1\ub85d \uc644\ub8cc"),e(R.DASHBOARD)})).catch((function(e){a.ZP.error(e)}))},children:"\uac00\uac8c\ub4f1\ub85d"})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("h3",{children:"\uba54\ub274\ud56d\ubaa9"})}),(0,t.jsx)(l.Z,{onClick:function(){var e={id:(0,de.Z)(),name:"",price:0};i((function(n){return n.concat(e)}))},children:"\uba54\ub274\ucd94\uac00"})]}),(0,t.jsx)("hr",{}),(0,t.jsx)(je,{menuList:r,handleChangeMenuList:i})]})]})},xe=function(e){var n=e.menu,r=e.handleClick,i=n.menu_title,o=n.price;return(0,t.jsxs)("div",{className:X().choice_menu_item,onClick:r,children:[(0,t.jsx)("div",{children:i}),(0,t.jsxs)("div",{children:[o,"\uc6d0"]})]})},ve=r(7691),pe=function(e){var n=e.menu,r=e.handleSelectMenu,i=n.menu_id,o=n.menu_title,a=n.price;return(0,t.jsxs)("div",{className:X().menu_info_item,children:[(0,t.jsx)(ve.Z,{width:200,height:200,src:"error",alt:"temp_avatar",fallback:"data:image/png;base64,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"}),(0,t.jsx)("div",{className:X().menu_info_title,children:o}),(0,t.jsxs)("div",{className:X().menu_info_price,children:[a,"\uc6d0"]}),(0,t.jsx)(H.Z,{type:"primary",handleClick:function(){return r(i)},children:"\uba54\ub274 \uc120\ud0dd"})]})};function ye(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function Ee(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return ye(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _e=function(){var e=(0,y.$P)(ie),n=e.state,r=e.contents,i=(0,o.useState)(),a=i[0],s=i[1],c=Ee((0,y.FV)(D),2),u=c[0],l=c[1],d=(0,y.sJ)(E),h=(0,y.Zl)(O),f=d.user_id,m=(0,o.useMemo)((function(){var e;switch(n){case"loading":e=(0,t.jsx)(T.Z,{});break;case"hasValue":e=r.length>0?r.map((function(e){return(0,t.jsx)(xe,{menu:e,handleClick:function(){return s(e)}},e.menu_id)})):(0,t.jsx)(M.Z,{});break;case"hasError":e=(0,t.jsx)(M.Z,{})}return e}),[n]);return(0,o.useEffect)((function(){return function(){l(void 0)}}),[]),(0,t.jsxs)("div",{style:{height:"100%"},children:[(0,t.jsxs)("div",{className:X().common_header,children:[(0,t.jsx)("h1",{children:"\uba54\ub274 \uace0\ub974\uae30"}),(0,t.jsx)(K.default,{children:(0,t.jsx)(H.Z,{handleClick:function(){return h(R.DASHBOARD)},children:"\ucde8\uc18c\ud558\uae30"})})]}),(0,t.jsxs)("div",{className:X().choice_menu_content,children:[(0,t.jsx)("div",{className:X().choice_menu,children:m}),(0,t.jsx)("div",{className:X().menu_info,children:a&&(0,t.jsx)(pe,{menu:a,handleSelectMenu:function(e){var n={menu_id:e,order_id:u,menu_count:1,user_id:f};v.post("/orderDetail",n)}})})]})]})},Qe=r(1475),be=r(31),Ce=r(1511),Ie=r(8368),Se=function(){var e=(0,y.sJ)(oe),n=(0,y.Zl)(O),r=e.Order_detail,i=(0,o.useMemo)((function(){return r.reduce((function(e,n){return e+n.menu_id.price}),0)}),[r]);return(0,t.jsxs)("div",{style:{height:"100%"},children:[(0,t.jsxs)("div",{className:X().common_header,children:[(0,t.jsx)("h1",{children:"\uc8fc\ubb38 \uad00\ub9ac "}),(0,t.jsx)(K.default,{children:(0,t.jsx)(q.u5,{handleClick:function(){return n(R.DASHBOARD)},children:"\ucde8\uc18c\ud558\uae30"})})]}),(0,t.jsxs)("div",{style:{width:"50%"},children:[(0,t.jsx)("h2",{children:"\uc8fc\ubb38\ud604\ud669"}),(0,t.jsx)(be.ZP,{itemLayout:"horizontal",dataSource:r,renderItem:function(e){return(0,t.jsxs)(be.ZP.Item,{children:[(0,t.jsx)(be.ZP.Item.Meta,{avatar:(0,t.jsx)(Ce.Z,{src:"https://joeschmoe.io/api/v1/random"}),title:(0,t.jsx)("a",{href:"https://ant.design",children:e.User.name}),description:(0,t.jsx)(t.Fragment,{children:e.menu_id.menu_title})},e.order_detail_id),(0,t.jsxs)("div",{children:[(0,t.jsx)(q.VL,{value:e.menu_id.price}),"\uc6d0"]})]})}}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("span",{children:"\uc8fc\ubb38 \ucd1d\uacc4"}),(0,t.jsxs)("span",{children:[(0,t.jsx)(q.VL,{value:i}),"\uc6d0"]})]}),(0,t.jsx)("div",{style:{marginTop:30,textAlign:"right"},children:(0,t.jsxs)(K.default,{children:[(0,t.jsx)(q.u5,{type:"danger",handleClick:function(){(0,Ie.ZP)({title:"\uc815\ub9d0\ub85c \uc8fc\ubb38\uc744 \uc0ad\uc81c\ud558\uc2e4\uac74\uac00\uc694?",icon:(0,t.jsx)(Qe.Z,{}),content:"\uc0ad\uc81c\ud558\uc2dc\uba74 \uc8fc\ubb38\ub0b4\uc5ed\uc774 \ubaa8\ub450 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.",okText:"\uc0ad\uc81c",okType:"danger",cancelText:"\ucde8\uc18c",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}})},children:"\uc8fc\ubb38\uc0ad\uc81c"}),(0,t.jsx)(q.u5,{type:"primary",handleClick:function(){},children:"\uc8fc\ubb38\uc644\ub8cc \ucc98\ub9ac"})]})})]})]})},we=function(e){var n=(0,p.useRouter)(),r=(0,y.sJ)(O),i=(0,y.sJ)(E);return(0,o.useLayoutEffect)((function(){i||n.push("/login")}),[]),(0,t.jsxs)("div",{style:{height:"100%"},children:[r===R.DASHBOARD&&(0,t.jsx)(ee,{}),r===R.HISTORY&&(0,t.jsx)(le,{}),r===R.ORDER&&(0,t.jsx)(ue,{}),r===R.NEW_CAFETERIA&&(0,t.jsx)(ge,{}),r===R.CHOICE_MENU&&(0,t.jsx)(_e,{}),r===R.ORDER_INFO&&(0,t.jsx)(Se,{})]})}},5023:function(e,n,r){"use strict";var t=r(5893),i=r(9707),o=r(7294),a=r(4032),s=r.n(a);n.Z=function(e){var n=e.icon,r=e.type,a=e.handleClick,c=e.children,u=(0,o.useMemo)((function(){var e;switch(r){case"primary":e=s().common_button_primary;break;case"danger":e=s().common_button_danger;break;default:e=s().common_button}return e}),[r]);return(0,t.jsx)(i.Z,{className:u,onClick:a,icon:n,children:c})}},8102:function(e,n,r){"use strict";r.d(n,{u5:function(){return l.Z},TO:function(){return a},VL:function(){return d},nv:function(){return u}});var t=r(5893),i=r(9008),o=r(1163),a=function(){var e=(0,o.useRouter)();return(0,t.jsx)(i.default,{children:(0,t.jsx)("title",{children:e.pathname})})},s=r(3386),c=r(7294),u=function(e){var n=e.width,r=e.children,i=(0,c.useState)(!1),o=i[0],a=i[1],u=(0,c.useCallback)((function(e){if(e){var r=e.getBoundingClientRect().width;a(r>n)}else a(!1)}),[]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{ref:u,style:{position:"absolute",visibility:"hidden",whiteSpace:"nowrap"},children:r}),(0,t.jsx)("span",{style:{display:"inline-block",width:n,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:o?(0,t.jsx)(s.Z,{title:r,children:r}):r})]})},l=r(5023),d=function(e){var n=e.value;return(0,t.jsx)(t.Fragment,{children:"".concat(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")})}},1563:function(e){e.exports={common_header:"TodayLunch_common_header__hWsfd",choice_menu_content:"TodayLunch_choice_menu_content__zgLp3",choice_menu:"TodayLunch_choice_menu__puv7K",choice_menu_item:"TodayLunch_choice_menu_item__SXNsw",menu_info:"TodayLunch_menu_info__cGjZv",menu_info_item:"TodayLunch_menu_info_item__TB9Xg",menu_info_title:"TodayLunch_menu_info_title__pxB_6",menu_info_price:"TodayLunch_menu_info_price__UaaJm",order_detail_item:"TodayLunch_order_detail_item__Uh4g5",order_detail_item_menu_avatar:"TodayLunch_order_detail_item_menu_avatar__vIv_K",order_detail_item_menu_title:"TodayLunch_order_detail_item_menu_title__JiQen"}},4032:function(e){e.exports={common_button:"component_common_button__Vc9Zj",common_button_primary:"component_common_button_primary__BMTMY",common_button_danger:"component_common_button_danger__uv79a"}}}]);