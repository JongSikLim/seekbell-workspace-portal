"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{7169:function(e,n,r){r.d(n,{m3:function(){return k},or:function(){return i},Kf:function(){return Q}});var t=r(5893),i=function(){return(0,t.jsx)(t.Fragment,{children:"\uba54\uc778"})},s=r(7294),a=r(4723),o=r(2507),c=r(954),l=r(7782),u=r(9707),d=r(7547),f=r(4149),h=r(9669),m=function(e){return Object.keys(e).map((function(n){return"".concat(n,"=").concat(e[n])})).join("&")};function p(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function j(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){p(e,n,r[n])}))}return e}var x=r.n(h)().create({baseURL:"http://playground.jsim.kr/api",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencodeds"}});x.interceptors.request.use((function(e){e.url;return e.headers=j({},e.headers),e})),x.interceptors.response.use((function(e){return new Promise((function(n,r){var t=e.status,i=e.data;200===t?n(i):r(i)}))}));var v,y={get:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x.get(e,j({},r,{params:n,paramsSerializer:m}))},post:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x.post(e,n,r)},put:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x.put(e,n,r)},patch:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x.patch(e,n,r)},delete:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x.delete(e,j({},r,{params:n,paramsSerializer:m}))}};!function(e){e[e.SIGN_IN=0]="SIGN_IN",e[e.SIGN_UP=1]="SIGN_UP"}(v||(v={}));var g=function(e){var n=e.setPage;return(0,t.jsx)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsxs)(o.Z,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){var n=e.id,r=e.password;y.post("user/login",{id:n,password:r}).then((function(e){console.log("res: ",e)})).catch((function(e){a.ZP.error("\uacc4\uc815\uc815\ubcf4\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.")}))},children:[(0,t.jsx)(o.Z.Item,{name:"id",rules:[{required:!0,message:"Please input your Username!"}],children:(0,t.jsx)(c.Z,{prefix:(0,t.jsx)(d.Z,{className:"site-form-item-icon"}),placeholder:"Username"})}),(0,t.jsx)(o.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:(0,t.jsx)(c.Z,{prefix:(0,t.jsx)(f.Z,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),(0,t.jsxs)(o.Z.Item,{children:[(0,t.jsx)(o.Z.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:(0,t.jsx)(l.Z,{children:"\ube44\ubc00\ubc88\ud638 \uae30\uc5b5"})}),(0,t.jsx)("a",{className:"login-form-forgot",href:"",children:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"})]}),(0,t.jsxs)(o.Z.Item,{children:[(0,t.jsx)(u.Z,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),(0,t.jsx)(u.Z,{onClick:function(){return n(v.SIGN_UP)},children:"\ud68c\uc6d0\uac00\uc785"})]})]})})},w=r(4051),b=r.n(w),Z=r(2474),S=r.n(Z);function I(e,n,r,t,i,s,a){try{var o=e[s](a),c=o.value}catch(l){return void r(l)}o.done?n(c):Promise.resolve(c).then(t,i)}function P(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var s=e.apply(n,r);function a(e){I(s,t,i,a,o,"next",e)}function o(e){I(s,t,i,a,o,"throw",e)}a(void 0)}))}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,s=[],a=!0,o=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(s.push(t.value),!n||s.length!==n);a=!0);}catch(c){o=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}return s}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return C(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N,_=function(e){var n=e.setPage,r=O(o.Z.useForm(),1)[0];return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",height:"100%",textAlign:"center"},children:[(0,t.jsx)("h1",{style:{marginBottom:40},children:"\ud68c\uc6d0\uac00\uc785"}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)("div",{style:{width:700},children:(0,t.jsxs)(o.Z,{form:r,labelCol:{span:4},wrapperCol:{span:12},onFinish:function(e){var r,t=e.id,i=e.password,s=e.name;(r=i,new Promise(function(){var e=P(b().mark((function e(n,t){var i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){S().randomBytes(64,(function(r,t){r&&n(r),e(t.toString("base64"))}))}));case 2:i=e.sent,S().pbkdf2(r,i,9999,64,"sha512",(function(e,r){e&&t(e),n({hashedPassword:r.toString("base64"),salt:i})}));case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}())).then((function(e){var r=e.hashedPassword,i=e.salt,a={name:s,salt:i,password:r,email:t};y.post("/user",a).then((function(){n(N.SIGN_IN)})).catch((function(e){console.log("err: ",e)}))}))},children:[(0,t.jsx)(o.Z.Item,{name:"id",label:"\uc544\uc774\ub514",rules:[{required:!0,message:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud558\uc138\uc694."}],children:(0,t.jsx)(c.Z,{})}),(0,t.jsx)(o.Z.Item,{name:"password",label:"\ube44\ubc00\ubc88\ud638",rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638 \uc785\ub825\ud558\uc138\uc694."}],children:(0,t.jsx)(c.Z.Password,{})}),(0,t.jsx)(o.Z.Item,{name:"passwordConfirm",label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694."},function(e){var n=e.getFieldValue;return{validator:function(e,r){return r&&n("password")!==r?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:(0,t.jsx)(c.Z.Password,{})}),(0,t.jsx)(o.Z.Item,{name:"name",label:"\uc774\ub984",tooltip:"\ucd5c\ub300\ud55c \uc2e4\uba85\uc744 \uc801\uc5b4\uc8fc\uc138\uc694!",rules:[{required:!0,message:"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",whitespace:!0}],children:(0,t.jsx)(c.Z,{})}),(0,t.jsx)(o.Z.Item,{children:(0,t.jsx)(u.Z,{type:"primary",htmlType:"submit",children:"\uac00\uc785\ud558\uae30"})})]})})})]})};!function(e){e[e.SIGN_IN=0]="SIGN_IN",e[e.SIGN_UP=1]="SIGN_UP"}(N||(N={}));var R,k=function(){var e=(0,s.useState)(N.SIGN_IN),n=e[0],r=e[1];return(0,t.jsxs)("div",{style:{height:"100%"},children:[n===N.SIGN_IN&&(0,t.jsx)(g,{setPage:r}),n===N.SIGN_UP&&(0,t.jsx)(_,{setPage:r})]})},A=r(2804);!function(e){e[e.ORDER=0]="ORDER",e[e.HISTORY=1]="HISTORY",e[e.DASHBOARD=2]="DASHBOARD",e[e.NEW_CAFETERIA=3]="NEW_CAFETERIA"}(R||(R={}));var E=(0,A.cn)({key:"stepState",default:R.DASHBOARD}),F=(0,A.cn)({key:"cafeteriaListState",default:[]}),L=(0,A.cn)({key:"selectCafeteriaState",default:null}),T=r(6223),D=r(7677),G=((0,A.cn)({key:"MenuListState",default:!1}),(0,A.cn)({key:"orderListState",default:null})),H=function(){var e=(0,A.$P)(G),n=e.state,r=e.contents,i=(0,A.Zl)(E),a=(0,s.useMemo)((function(){switch(n){case"loading":return(0,t.jsx)(t.Fragment,{children:"\ub85c\ub529\uc911"});case"hasValue":return console.log("orderListContents: ",r),(0,t.jsx)(t.Fragment,{children:r});case"hasError":return(0,t.jsx)(t.Fragment,{children:"\uc5d0\ub7ec"})}}),[n]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("h1",{children:"\uc8fc\ubb38 \ub0b4\uc5ed"}),(0,t.jsxs)(D.Z,{children:[(0,t.jsx)(u.Z,{icon:(0,t.jsx)(T.Z,{}),children:"\ud788\uc2a4\ud1a0\ub9ac"}),(0,t.jsx)(u.Z,{onClick:function(){return i(R.ORDER)},children:"\uc8fc\ubb38\ud558\uae30"})]})]}),(0,t.jsx)("div",{children:a})]})},U=r(300),M=function(){return(0,t.jsx)("div",{children:"MenuList"})},B=function(){var e=(0,A.sJ)(F),n=(0,A.Zl)(E),r=(0,A.Zl)(L);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("h1",{children:"\uc8fc\ubb38\ud558\uae30"}),(0,t.jsxs)(D.Z,{children:[(0,t.jsx)(u.Z,{type:"primary",onClick:function(){return n(R.HISTORY)},children:"\uc8fc\ubb38\uc2dc\uc791"}),(0,t.jsx)(u.Z,{onClick:function(){return n(R.HISTORY)},children:"\ucde8\uc18c\ud558\uae30"})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(U.Z,{style:{width:300},size:"large",showSearch:!0,placeholder:"\uac00\uac8c \uace0\ub974\uc138\uc694",fieldNames:{label:"cafeteria_name",value:"cafeteria_id"},optionFilterProp:"cafeteria_name",optionLabelProp:"cafeteria_name",options:e,onChange:function(e,n){r(n)},filterOption:function(e,n){return n.cafeteria_name.toLowerCase().indexOf(e.toLowerCase())>=0},dropdownRender:function(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[e," "]}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{style:{paddingLeft:"10",paddingRight:"10"},children:(0,t.jsx)(u.Z,{block:!0,type:"primary",onClick:function(){return n(R.NEW_CAFETERIA)},children:"\uac00\uac8c \ucd94\uac00"})})]})}})}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{children:"\uba54\ub274\ub9ac\uc2a4\ud2b8"}),(0,t.jsx)(M,{})]})]})},q=function(){return(0,t.jsx)("div",{children:"History"})},Y=r(9894),V=r(1669),W=r(2714),z=function(e){var n=e.menu,r=e.handleChangeMenu,i=n.name,s=n.price;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsx)("div",{style:{marginBottom:5},children:(0,t.jsx)(c.Z,{defaultValue:i,onChange:function(e){return r("name")(e.target.value)}})}),(0,t.jsx)("div",{children:(0,t.jsx)(V.Z,{defaultValue:s,min:0,formatter:function(e){return"".concat(e)},onChange:function(e){return r("price")(e)}})}),(0,t.jsx)("div",{children:(0,t.jsx)(u.Z,{icon:(0,t.jsx)(W.Z,{})})})]})})};function J(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var $=function(e){var n=e.menuList,r=e.handleChangeMenuList,i=(0,s.useMemo)((function(){return n.map((function(e){return(0,t.jsx)(z,{menu:e,handleChangeMenu:function(n){return function(t){r((function(r){return r.map((function(r){return r.id===e.id?function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){J(e,n,r[n])}))}return e}({},e,J({},n,t)):r}))}))}}},e.id)}))}),[n]);return(0,t.jsx)("div",{children:i})},K=function(){var e=(0,A.Zl)(E),n=(0,s.useState)([]),r=n[0],i=n[1],o=(0,s.useState)(""),l=o[0],d=o[1],f=function(){var e=!0;return""!==l&&0!==r.length||(e=!1),r.some((function(e){""===e.name||e.price}))&&(e=!1),e};return(0,t.jsxs)("div",{style:{width:"50%",minWidth:"300px"},children:[(0,t.jsxs)("div",{style:{display:"flex",marginBottom:20},children:[(0,t.jsx)(c.Z,{type:"text",value:l,onChange:function(e){return d(e.target.value)}}),(0,t.jsx)(u.Z,{type:"primary",onClick:function(){!1===f()&&a.ZP.error("\ub370\uc774\ud130 \uc591\uc2dd\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.");var n={cafeteria:{cafeteria_name:l},menuList:r.map((function(e){return{menu_title:e.name,price:e.price}}))};y.post("/cafeteria/insertCafeteria",n).then((function(n){a.ZP.success("\uac00\uac8c \ub4f1\ub85d \uc644\ub8cc"),e(R.HISTORY)})).catch((function(e){a.ZP.error(e)}))},children:"\uac00\uac8c\ub4f1\ub85d"})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("h3",{children:"\uba54\ub274\ud56d\ubaa9"})}),(0,t.jsx)(u.Z,{onClick:function(){var e={id:(0,Y.Z)(),name:"",price:0};i((function(n){return n.concat(e)}))},children:"\uba54\ub274\ucd94\uac00"})]}),(0,t.jsx)("hr",{}),(0,t.jsx)($,{menuList:r,handleChangeMenuList:i})]})]})},Q=function(){var e=(0,A.sJ)(E);return(0,t.jsxs)("div",{children:[e===R.DASHBOARD&&(0,t.jsx)(H,{}),e===R.HISTORY&&(0,t.jsx)(q,{}),e===R.ORDER&&(0,t.jsx)(B,{}),e===R.NEW_CAFETERIA&&(0,t.jsx)(K,{})]})}},1517:function(e,n,r){r.d(n,{T:function(){return a}});var t=r(5893),i=r(9008),s=r(1163),a=function(){var e=(0,s.useRouter)();return(0,t.jsx)(i.default,{children:(0,t.jsx)("title",{children:e.pathname})})}}}]);